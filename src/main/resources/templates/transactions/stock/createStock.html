<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        .dataTables_wrapper .dataTables_filter {
            float: left;
            /* padding-bottom: 5px; */
        }

        .dataTables_length {
            display: none;
            cursor: pointer;
        }
    </style>
    <script>
        var items = new Array();
        var stockData = new Array();
        var table;
        var vendors, customers, locations;
        var selectedRowData;
        var selectedCustomer;
        var isValidUser = false;
        $(document).ready(function () {
            initPage();
            $(".numberOnly").keypress(numberOnly);
            $(".numberOnlyWithNegativeValues").keypress(numberOnlyWithNegativeValues);

            table = $("#dataTable").DataTable({
                // paging: false,
                // scrollY: 420,
                // info: false
                data: stockData,
                "columns": [
                    { data: "box" },
                    { data: "model" },
                    { data: "part" },
                    { data: "configuration" },
                    { data: "details" },
                    { data: "qty" },
                    { data: "buyPrice", visible: false },
                    { data: "sellPrice" },
                    { data: "vendor" },
                    { data: "id", visible: false },
                    { data: "boxId", visible: false },
                    { data: "vendorId", visible: false },
                    { data: "modelId", visible: false },
                    { data: "partId", visible: false },
                    { data: "detailsId", visible: false },
                    { data: "configurationId", visible: false },
                    { data: "stockDetailsId", visible: false }
                ]
            });
            $(":input[type='search']").attr("accesskey", "h");

            $('#stockAddBoxModal').on('shown.bs.modal', function () {
                $('#boxName').focus();
            });
            $('#addVendorModal').on('shown.bs.modal', function () {
                $('#vendorName').focus();
            });
            $('#stockEditModal').on('shown.bs.modal', function () {
                $('#qtyForEditStock').focus();
            });
            $('#stockAddModelModal').on('shown.bs.modal', function () {
                $('#modelName').focus();
            });
            $('#stockAddPartModal').on('shown.bs.modal', function () {
                $('#partName').focus();
            });
            $("#stockAddConfigModal").on('shown.bs.modal', function () {
                $('#configName').focus();
            });
            $('#createOrderModal').on('shown.bs.modal', function () {
                $('#customer').focus();
            });
            $('#createCustomerModal').on('shown.bs.modal', function () {
                $('#customerName').focus();
            });
            $('#createCustomerModal').on('hidden.bs.modal', function () {
                $("#createOrderModal").modal("show");
            });
            $('#validateUserModal').on('shown.bs.modal', function () {
                $("#userNameForValidation").focus();
            });

            $('#toggleBuyPrice').click(toggleBuyPrice);

            $("#addBoxBtn").click(addNewBox);
            $("#addVendorBtn").click(addNewVendor);
            $("#addModelBtn").click(addNewModel);
            $("#addPartBtn").click(addNewPart);
            $("#addConfigBtn").click(addNewConfig);
            $("#createBoxBtn").click(createBoxBtnClick);
            $("#createModelBtn").click(createModelBtnClick);
            $("#createPartBtn").click(createPartBtnClick);
            $("#createVendorBtn").click(createVendorBtnClick);
            $("#createConfigBtn").click(createConfigBtnClick);
            $("#updateStockBtn").click(updateStock);
            $("#model").change(modelOnChange);
            $("#partNo").change(partNoOnChange);
            $("#qtyForEditStock").keyup(calculateTempTotal);
            $("#itemQuantity").keyup(calculateOrderAmount);
            $("#courierCharges").keyup(calculateOrderTotalAmount);
            $("#updateStockModalBtn").click(showUpdateStockModal);
            $("#createOrderModalBtn").click(showCreateOrderModal);
            $("#showCustomerModalBtn").click(showCreateCustomerModal);
            $("#createCustomerBtn").click(createCustomerBtnClick);
            $("#createOrderBtn").click(createOrderButtonClick);
            $("#validatePasswordBtn").click(validateUserBtnClick);
            $("#paymentType").change(paymentTypeChangeHandler);

            $("#addStockBtn").click(() => {
                if (validateFields()) {
                    savaData();
                }
                return false;
            });
            $("#datepicker").datepicker({
                format: "dd/mm/yyyy",
                autoclose: true,
                todayHighlight: true
            }).on("changeDate", function (e) {
                $("#customer").focus();
            }).val(formatDateAsDDMMYYYY(new Date()));

            $("#clearFieldsBtn").click(() => {
                initFields();
            });
            $("#dataTable tbody").css("cursor", "pointer").on("click", "tr", function () {
                selectedRowData = table.row(this).data();
                $("#optionModal").modal("show");
            });
            $("#stockPageBody").css("visibility", "visible");
            $("#onloadSpinner").css("visibility", "hidden");
            $("#boxNo").focus();
        });
        function paymentTypeChangeHandler() {
            if ($("#paymentType").val() == "bank") {
                $("#orderRemark").removeAttr("disabled");
            } else {
                $("#orderRemark").attr("disabled", "disabled")
            }
        }
        function toggleBuyPrice() {
            var table = $('#dataTable').DataTable();
            if (table.column(6).visible()) {
                table.column(6).visible(!table.column(6).visible());
                return;
            }
            $("#userName").val("");
            $("#password").val("")
            $("#userName").focus();
            $("#validateUserModal").modal("show");
        }
        function validateUserBtnClick() {
            $("#validatePasswordBtn").attr("disabled", "disabled")
            if ($("#userNameForValidation").val() == "") {
                $("#userNameForValidation").focus();
                $("#omsToast").html("Please enter user name");
                $(".toast").removeClass("bg-danger").removeClass("bg-success").addClass("bg-warning").toast("show");
                $("#validatePasswordBtn").removeAttr("disabled");
                return false;
            }
            if ($("#password").val() == "") {
                $("#password").focus();
                $("#omsToast").html("Please enter password");
                $(".toast").removeClass("bg-danger").removeClass("bg-success").addClass("bg-warning").toast("show");
                $("#validatePasswordBtn").removeAttr("disabled");
                return false;
            }
            var requestData = {
                "password": $("#password").val()
            };
            $.post("/users/validate/" + $("#userNameForValidation").val(), JSON.stringify(requestData), function (res) {
                var table = $('#dataTable').DataTable();
                table.column(6).visible(!table.column(6).visible());
                $("#validateUserModal").modal("hide");
                $("#validatePasswordBtn").removeAttr("disabled");
                initLocationResponseData(res.data);
            }).fail(function (res) {
                $("#validateUserModal").modal("hide");
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
                $("#validatePasswordBtn").removeAttr("disabled");
            });
        }

        function showCreateCustomerModal() {
            selectedCustomer = $("#customer").val();
            $("#createOrderModal").modal("hide");
            $("#createCustomerModal").modal("show");
        }
        function showCreateOrderModal() {
            initCreateOrderFields();
            $("#stockHeaderId").val(selectedRowData.id);
            $("#stockDetailsId").val(selectedRowData.stockDetailsId);
            $("#itemDetailsForOrder").text(selectedRowData.box
                + " | " + selectedRowData.model + " | " + selectedRowData.part
                + " | " + selectedRowData.configuration + " | " + selectedRowData.details
                + " | " + selectedRowData.vendor);
            $("#itemSellRate").val(selectedRowData.sellPrice);
            $("#newItemSellRate").val(selectedRowData.sellPrice);

            $("#optionModal").modal("hide");
            $("#createOrderModal").modal("show");
        }
        function showUpdateStockModal() {
            $("#stockHeaderId").val(selectedRowData.id);
            $("#boxForEditStock").val(selectedRowData.box);
            $("#vendorForEditStock").val(selectedRowData.vendor);
            $("#modelForEditStock").val(selectedRowData.model);
            $("#partForEditStock").val(selectedRowData.part);
            $("#configForEditStock").val(selectedRowData.configuration);
            $("#detailsForEditStock").val(selectedRowData.details);
            $("#buyPriceForEditStock").val(selectedRowData.buyPrice);
            $("#currentStock").val(selectedRowData.qty);
            $("#currentSellPrice").val(selectedRowData.sellPrice);
            $("#sellPriceForEditStock").val(selectedRowData.sellPrice);
            $("#qtyForEditStock").val("0");
            $("#tempTotalStock").val(selectedRowData.qty);
            $("#optionModal").modal("hide");
            $("#stockEditModal").modal("show");
        }

        function calculateTempTotal() {
            if ($("#qtyForEditStock").val() == "" || Number.isNaN($("#qtyForEditStock").val())) {
                $("#qtyForEditStock").val("0");
            }
            $("#tempTotalStock").val(Number.parseFloat($("#currentStock").val()) + Number.parseFloat($("#qtyForEditStock").val()));
        }
        function calculateOrderAmount() {
            if ($("#itemQuantity").val() == "" || Number.isNaN($("#itemQuantity").val())) {
                $("#itemQuantity").val("0");
                return false;
            }
            $("#itemAmount").val(Number.parseFloat($("#newItemSellRate").val()) * Number.parseFloat($("#itemQuantity").val()));
            $("#orderAmount").val(Number.parseFloat($("#newItemSellRate").val()) + Number.parseFloat($("#courierCharges").val()));
        }
        function calculateOrderTotalAmount() {
            if ($("#itemQuantity").val() == "0" || $("#itemQuantity").val() == ""
                || Number.isNaN($("#itemQuantity").val())) {
                $("#courierCharges").val("0");
                $("#itemQuantity").focus();
                $("#omsToast").html("Please enter Quantity.");
                $(".toast").removeClass("bg-success").addClass("bg-danger").toast("show");
                return;
            }
            if ($("#courierCharges").val() == "" || Number.isNaN($("#courierCharges").val())) {
                $("#courierCharges").val("0");
            }
            $("#orderAmount").val(Number.parseFloat($("#itemAmount").val()) + Number.parseFloat($("#courierCharges").val()));
        }
        function initPage() {
            initVendorData();
            initLocationData();
            initModelData();
            initStockData();
            initCustomerData();
        }

        function updateStock() {
            if ($("#stockHeaderId").val() == undefined ||
                $("#stockHeaderId").val() == "" || $("#stockHeaderId").val() == 0) {
                $("#omsToast").html("Invalid stockId");
                $(".toast").addClass("bg-danger").toast("show");
                $("#stockEditModal").modal("hide");
                return false;
            }
            if ($("#boxForEditStock").val() == undefined ||
                $("#boxForEditStock").val() == "" || $("#boxForEditStock").val() == 0) {
                $("#omsToast").html("Invalid box");
                $(".toast").addClass("bg-danger").toast("show");
                $("#stockEditModal").modal("hide");
                return false;
            }
            if ($("#vendorForEditStock").val() == undefined ||
                $("#vendorForEditStock").val() == "" || $("#vendorForEditStock").val() == 0) {
                $("#omsToast").html("Invalid Vendor");
                $(".toast").addClass("bg-danger").toast("show");
                $("#stockEditModal").modal("hide");
                return false;
            }
            if ($("#modelForEditStock").val() == undefined ||
                $("#modelForEditStock").val() == "" || $("#modelForEditStock").val() == 0) {
                $("#omsToast").html("Invalid Model");
                $(".toast").addClass("bg-danger").toast("show");
                $("#stockEditModal").modal("hide");
                return false;
            }
            if ($("#partForEditStock").val() == undefined ||
                $("#partForEditStock").val() == "" || $("#partForEditStock").val() == 0) {
                $("#omsToast").html("Invalid Part");
                $(".toast").addClass("bg-danger").toast("show");
                $("#stockEditModal").modal("hide");
                return false;
            }
            if ($("#configForEditStock").val() == undefined ||
                $("#configForEditStock").val() == "" || $("#configForEditStock").val() == 0) {
                $("#omsToast").html("Invalid Configuration");
                $(".toast").addClass("bg-danger").toast("show");
                $("#stockEditModal").modal("hide");
                return false;
            }
            if ($("#detailsForEditStock").val() == undefined ||
                $("#detailsForEditStock").val() == "" || $("#detailsForEditStock").val() == 0) {
                $("#omsToast").html("Invalid Details");
                $(".toast").addClass("bg-danger").toast("show");
                $("#stockEditModal").modal("hide");
                return false;
            }

            if ($("#sellPriceForEditStock").val() == undefined ||
                $("#sellPriceForEditStock").val() == "" || $("#sellPriceForEditStock").val() == 0) {
                $("#sellPriceForEditStock").focus();
                $("#omsToast").html("Invalid Sell Price");
                $(".toast").addClass("bg-danger").toast("show");
                return false;
            }

            if ($("#qtyForEditStock").val() == undefined ||
                $("#qtyForEditStock").val() == "") {
                $("#qtyForEditStock").focus();
                $("#omsToast").html("Invalid quantity");
                $(".toast").addClass("bg-danger").toast("show");
                return false;
            }
            if ((eval($("#currentStock").val()) + eval($("#qtyForEditStock").val())) < 0) {
                $("#qtyForEditStock").focus();
                $("#omsToast").html("Invalid quantity");
                $(".toast").addClass("bg-danger").toast("show");
                return false;
            }

            var requestData = {
                "qty": $("#qtyForEditStock").val(),
                "stockType": "IN",
                "sellPrice": $("#sellPriceForEditStock").val(),
                "userId": appUser.userId
            };

            $.post("/stock/" + $("#stockHeaderId").val(), JSON.stringify(requestData), function (res) {
                var rowUpdated = false;
                table.rows().every(function (rowIdx, tableLoop, rowLoop) {
                    var d = this.data();
                    if (d.box == res.data.box && d.model == res.data.model
                        && d.part == res.data.part && d.configuration == res.data.configuration
                        && d.details == res.data.details && d.vendor == res.data.vendor
                        && d.buyPrice == res.data.buyPrice) {
                        d.qty = res.data.qty;
                        d.sellPrice = res.data.sellPrice;
                        this.invalidate();
                        rowUpdated = true;
                        $("#stockEditModal").modal("hide");
                        $("#omsToast").html(res.message);
                        $(".toast").removeClass("bg-danger").addClass("bg-success").toast("show");
                        return false;
                    }
                });
                table.draw();

                if (!rowUpdated) {
                    table.row.add(res.data).draw(false);
                    $("#stockEditModal").modal("hide");
                    $("#omsToast").html(res.message);
                    $(".toast").removeClass("bg-danger").addClass("bg-success").toast("show");
                }
                initFields();
            }).fail(function (res) {
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
            });
        }
        function savaData() {
            var requestData = {
                "boxId": $("#boxNo").val(),
                "modelId": $("#model").val(),
                "partId": $("#partNo").val(),
                "configId": $("#config").val(),
                "details": $("#details").val(),
                "qty": $("#qty").val(),
                "buyPrice": $("#buyPrice").val(),
                "sellPrice": $("#sellPrice").val(),
                "userId": appUser.userId,
                "vendorId": $("#vendor").val()
            };

            $.post("/stock", JSON.stringify(requestData), function (res) {
                var rowUpdated = false;
                table.rows().every(function (rowIdx, tableLoop, rowLoop) {
                    var d = this.data();
                    if (d.box == res.data.box && d.model == res.data.model
                        && d.part == res.data.part && d.configuration == res.data.configuration
                        && d.details == res.data.details && d.vendor == res.data.vendor
                        && d.buyPrice == res.data.buyPrice) {
                        d.qty = res.data.qty;
                        this.invalidate();
                        rowUpdated = true;
                        return false;
                    }
                });
                table.draw();

                if (!rowUpdated) {
                    table.row.add(res.data).draw(false);
                }

                $("#omsToast").html(res.message);
                $(".toast").removeClass("bg-danger").addClass("bg-success").toast("show");
                initFields();
            }).fail(function (res) {
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
            });

        }
        function createOrderButtonClick() {
            if ($("#customer").val() == 0) {
                $("#customer").focus();
                return false;
            }
            if ($("#newItemSellRate").val() == 0 || $("#newItemSellRate").val() <= 0) {
                $("#newItemSellRate").focus();
                return false;
            }
            if ($("#itemQuantity").val() == "" || $("#itemQuantity").val() == 0) {
                $("#itemQuantity").focus();
                return false;
            }
            if ($("#courierCharges").val() == "" || $("#courierCharges").val() < 0) {
                $("#courierCharges").focus();
                return false;
            }
            if ($("#paymentType").val() == 0) {
                $("#paymentType").focus();
                return false;
            }
            console.log("payment type:" + $("#paymentType").val());
            console.log("orderRemark" + $("#orderRemark").val());
            if ($("#paymentType").val() == 'bank' && $("#orderRemark").val() == 0) {
                $("#orderRemark").focus();
                return false;
            }
            var requestData = {
                "orderDate": $("#datepicker").val(),
                "sellPrice": $("#newItemSellRate").val(),
                "quantity": $("#itemQuantity").val(),
                "courierCharges": $("#courierCharges").val(),
                "paymentType": $("#paymentType").val(),
                "remark": $("#orderRemark").val(),
                "customerId": $("#customer").val(),
                "stockHeaderId": $("#stockHeaderId").val(),
                "stockDetailId": $("#stockDetailsId").val(),
                "userId": appUser.userId
            };

            $.post("/salesOrders", JSON.stringify(requestData), function (res) {
                var rowUpdated = false;
                table.rows().every(function (rowIdx, tableLoop, rowLoop) {
                    var d = this.data();
                    if (d.box == res.data.box && d.model == res.data.model
                        && d.part == res.data.part && d.configuration == res.data.configuration
                        && d.details == res.data.details && d.vendor == res.data.vendor
                        && d.buyPrice == res.data.buyPrice) {
                        d.qty = res.data.qty;
                        this.invalidate();
                        rowUpdated = true;
                        return false;
                    }
                });
                table.draw();

                if (!rowUpdated) {
                    table.row.add(res.data).draw(false);
                }
                $("#createOrderModal").modal("hide");
                $("#omsToast").html(res.message);
                $(".toast").removeClass("bg-danger").addClass("bg-success").toast("show");
            }).fail(function (res) {
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
            });
        }

        function initCreateOrderFields() {
            $("#customer").val("0");
            $("#itemQuantity").val("0");
            $("#courierCharges").val("0");
            $("#paymentType").val("0");
            $("#itemAmount").val("0");
            $("#orderAmount").val("0");
            $("#orderRemark").val("0");
        }
        function initFields() {
            $("#vendor").val(0);
            $("#model").val(0);
            $("#partNo").val(0);
            $("#config").val(0);
            $("#details").val("GM");
            $("#qty").val("");
            $("#buyPrice").val("");
            $("#sellPrice").val("");
            $("#boxNo").val(0).focus();
        }
        function validateFields() {
            if ($("#boxNo").val() == "0") {
                $("#boxNo").focus();
                return false;
            }
            if ($("#vendor").val() == "0") {
                $("#vendor").focus();
                return false;
            }
            if ($("#model").val() == "0") {
                $("#model").focus();
                return false;
            }
            if ($("#partNo").val() == "0") {
                $("#partNo").focus();
                return false;
            }
            if ($("#config").val() == "0") {
                $("#config").focus();
                return false;
            }
            if ($("#qty").val() == "" || $("#qty").val() == 0) {
                $("#qty").focus();
                return false;
            }
            if ($("#buyPrice").val() == "" || $("#buyPrice").val() == 0) {
                $("#buyPrice").focus();
                return false;
            }
            if ($("#sellPrice").val() == "" || $("#sellPrice").val() == 0) {
                $("#sellPrice").focus();
                return false;
            }
            return true;
        }

        function modelOnChange() {
            if ($("#model").val() != "0") {
                items.forEach(item => {
                    if (item.id == $("#model").val()) {
                        $("#partNo").empty();
                        $("#partNo").append("<option value='0' selected>Select Part</option>");
                        item.parts.forEach(element => {
                            $("#partNo").append("<option value='" + element.id + "'>"
                                + element.partNo + "</option>");
                        });
                        return;
                    }
                });
            } else {
                $("#model").focus();
                $("#partNo").empty();
            }
        }
        function partNoOnChange() {
            if ($("#partNo").val() != "0") {
                items.forEach(item => {
                    if (item.id == $("#model").val()) {
                        item.parts.forEach(part => {
                            if (part.id == $("#partNo").val()) {
                                $("#config").empty();
                                $("#config").append("<option value='0' selected>Select Configuration</option>");
                                part.configurations.forEach(config => {
                                    $("#config").append("<option value='" + config.id + "'>" + config.configuration + "</option>");
                                });
                                return;
                            }
                        })
                    }
                })
            } else {
                $("#partNo").focus();
                $("#config").empty();
            }
        }

        function createBoxBtnClick() {
            $("#createBoxBtn").attr("disabled", "disabled")
            if ($("#boxName").val() == "") {
                $("#boxName").focus();
                $("#omsToast").html("Please enter box no.");
                $(".toast").removeClass("bg-danger").removeClass("bg-success").addClass("bg-warning").toast("show");
                $("#createBoxBtn").removeAttr("disabled");
                return false;
            }
            var requestData = {
                "storageLocation": $("#boxName").val()
            };
            $.post("/storageLocations", JSON.stringify(requestData), function (res) {
                $("#stockAddBoxModal").modal("hide");
                $("#omsToast").html(res.message);
                $(".toast").removeClass("bg-danger").removeClass("bg-warning").addClass("bg-success").toast("show");
                $("#createBoxBtn").removeAttr("disabled");
                initLocationResponseData(res.data);
            }).fail(function (res) {
                $("#stockAddBoxModal").modal("hide");
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
                $("#createBoxBtn").removeAttr("disabled");
            });
        }
        function createModelBtnClick() {
            $("#createModelBtn").attr("disabled", "disabled")
            if ($("#modelName").val() == "") {
                $("#modelName").focus();
                $("#omsToast").html("Please enter Model name.");
                $(".toast").removeClass("bg-danger").removeClass("bg-success").addClass("bg-warning").toast("show");
                $("#createModelBtn").removeAttr("disabled");
                return false;
            }
            var requestData = {
                "itemName": $("#modelName").val()
            };
            $.post("/items", JSON.stringify(requestData), function (res) {
                $("#stockAddModelModal").modal("hide");
                $("#omsToast").html(res.message);
                $(".toast").removeClass("bg-danger").removeClass("bg-warning").addClass("bg-success").toast("show");
                $("#createModelBtn").removeAttr("disabled");
                items.push(res.data);
                initModelResponseData(res.data);
            }).fail(function (res) {
                $("#stockAddModelModal").modal("hide");
                $("#createModelBtn").removeAttr("disabled");
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
            });
        }
        function createPartBtnClick() {
            $("#createPartBtn").attr("disabled", "disabled")
            if ($("#partName").val() == "") {
                $("#partName").focus();
                $("#omsToast").html("Please enter part no.");
                $(".toast").removeClass("bg-danger").removeClass("bg-success").addClass("bg-warning").toast("show");
                $("#createPartBtn").removeAttr("disabled");
                return false;
            }
            var requestData = {
                "itemId": $("#model").val(),
                "partNo": $("#partName").val()
            };
            $.post("/parts", JSON.stringify(requestData), function (res) {
                $("#stockAddPartModal").modal("hide");
                $("#omsToast").html(res.message);
                $(".toast").removeClass("bg-danger").removeClass("bg-warning").addClass("bg-success").toast("show");
                $("#createPartBtn").removeAttr("disabled");
                initPartResponseData(res.data);
                $("#config").focus();
            }).fail(function (res) {
                $("#stockAddPartModal").modal("hide");
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
                $("#createPartBtn").removeAttr("disabled");
            });
        }
        function createConfigBtnClick() {
            $("#createConfigBtn").attr("disabled", "disabled")
            if ($("#configName").val() == "") {
                $("#configName").focus();
                $("#omsToast").html("Please enter Configuration");
                $(".toast").removeClass("bg-danger").removeClass("bg-success").addClass("bg-warning").toast("show");
                $("#createConfigBtn").removeAttr("disabled");
                return false;
            }
            var requestData = {
                "itemId": $("#model").val(),
                "partId": $("#partNo").val(),
                "configDetails": $("#configName").val()
            };
            $.post("/configs", JSON.stringify(requestData), function (res) {
                $("#stockAddConfigModal").modal("hide");
                $("#omsToast").html(res.message);
                $(".toast").removeClass("bg-danger").removeClass("bg-warning").addClass("bg-success").toast("show");
                $("#createConfigBtn").removeAttr("disabled");
                initConfigResponseData(res.data);
                $("#details").focus();
            }).fail(function (res) {
                $("#stockAddConfigModal").modal("hide");
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
                $("#createConfigBtn").removeAttr("disabled");
            });
        }
        function createVendorBtnClick() {
            $("#createVendorBtn").attr("disabled", "disabled")
            if ($("#vendorName").val() == "") {
                $("#vendorName").focus();
                $("#omsToast").html("Please enter Vendor Name");
                $(".toast").removeClass("bg-danger").removeClass("bg-success").addClass("bg-warning").toast("show");
                $("#createVendorBtn").removeAttr("disabled");
                return false;
            }
            var requestData = {
                "vendorName": $("#vendorName").val()
            };
            $.post("/vendors", JSON.stringify(requestData), function (res) {
                $("#addVendorModal").modal("hide");
                $("#omsToast").html(res.message);
                $(".toast").removeClass("bg-danger").removeClass("bg-warning").addClass("bg-success").toast("show");
                $("#createVendorBtn").removeAttr("disabled");
                initVendorResponseData(res.data);
                $("#model").focus();
            }).fail(function (res) {
                $("#addVendorModal").modal("hide");
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
                $("#createVendorBtn").removeAttr("disabled");
            });
        }
        function createCustomerBtnClick() {
            $("#createCustomerBtn").attr("disabled", "disabled")
            if ($("#customerName").val() == "") {
                $("#customerName").focus();
                $("#omsToast").html("Please enter Customer Name");
                $(".toast").removeClass("bg-danger").removeClass("bg-success").addClass("bg-warning").toast("show");
                $("#createCustomerBtn").removeAttr("disabled");
                return false;
            }
            if ($("#customerLocation").val() == "") {
                $("#customerLocation").focus();
                $("#omsToast").html("Please enter Customer Location");
                $(".toast").removeClass("bg-danger").removeClass("bg-success").addClass("bg-warning").toast("show");
                $("#createCustomerBtn").removeAttr("disabled");
                return false;
            }

            var requestData = {
                "customerName": $("#customerName").val(),
                "location": $("#customerLocation").val(),
                "email": $("#email").val(),
                "contact": $("#contact").val(),
                "userId": appUser.userId
            };
            $.post("/customers", JSON.stringify(requestData), function (res) {
                $("#createCustomerModal").modal("hide");
                $("#omsToast").html(res.message);
                $(".toast").removeClass("bg-danger").removeClass("bg-warning").addClass("bg-success").toast("show");
                $("#createCustomerBtn").removeAttr("disabled");
                initCustomerResponseData(res.data);
                $("#createOrderModal").modal("show");
                $("#customer").focus();
            }).fail(function (res) {
                $("#createCustomerModal").modal("hide");
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
                $("#createCustomerBtn").removeAttr("disabled");
                $("#createOrderModal").modal("show");
            });
        }

        function addNewBox() {
            $("#stockAddBoxModal").modal("show");
            $("#boxName").val("");
        }
        function addNewVendor() {
            $("#addVendorModal").modal("show");
            $("#vendorName").val("");
        }
        function addNewModel() {
            $("#stockAddModelModal").modal("show");
            $("#modelName").val("");
        }
        function addNewPart() {
            if ($("#model").val() != "0") {
                $("#stockAddPartModal").modal("show");
                $("#modelForPart").val($("#model option:selected").text());
            } else {
                $("#omsToast").html("Please select model.");
                $(".toast").addClass("bg-warning").toast("show");
            }
        }
        function addNewConfig() {
            if (null != $("#partNo").val() && $("#partNo").val() != "0") {
                $("#stockAddConfigModal").modal("show");
                $("#partForConfiguration").val($("#partNo  option:selected").text());
                $("#configName").val("")
            } else {
                $("#omsToast").html("Please select Part No.");
                $(".toast").addClass("bg-warning").toast("show");
            }
        }

        function initVendorData() {
            $.get("/vendors", function (res) {
                vendors = res;
                $("#vendor").empty();
                $("#vendor").append("<option selected='selected' value='0'>Select Vendor</option>");
                vendors.forEach(vendor => {
                    $("#vendor").append("<option value='" + vendor.id + "'>" + vendor.vendorName + "</option>");
                });
            }).fail(function (res) {
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
            });
        }
        function initLocationData() {
            $.get("/storageLocations", function (res) {
                locations = res;
                $("#boxNo").empty();
                $("#boxNo").append("<option selected='selected' value='0'>Select box</option>");
                res.forEach(element => {
                    $("#boxNo").append("<option value='" + element.id + "'>" + element.locationName + "</option>");
                });
            }).fail(function (res) {
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
            });
        }
        function initModelData() {
            $.get("/items", function (res) {
                items = res;
                initModelResponseData();
            }).fail(function (res) {
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
            });
        }
        function initStockData() {
            $.get("/stock", function (res) {
                stockData = res;
            }).fail(function (res) {
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
            });
        }
        function initCustomerData() {
            $.get("/customers", function (res) {
                customers = res;
                initCustomerResponseData();
            }).fail(function (res) {
                $("#omsToast").html(JSON.parse(res.responseText).message);
                $(".toast").addClass("bg-danger").toast("show");
            });
        }

        function initLocationResponseData(location) {
            if (location) {
                locations.push(location);
                $("#boxNo").append("<option value='" + location.id + "'>" + location.locationName + "</option>");
                $("#boxNo").val(location.id);
            }
        }
        function initModelResponseData(model) {
            if (model) {
                $("#model").append("<option value='" + model.id + "'>" + model.itemName + "</option>");
                $("#model").val(model.id);
                return;
            }
            $("#model").empty();
            $("#model").append("<option value='0' selected>Select model</option>");
            items.forEach(item => {
                $("#model").append("<option value='" + item.id + "'>" + item.itemName + "</option>");
            });

        }
        function initPartResponseData(ele) {
            items.forEach(item => {
                if ($("#model").val() == item.id) {
                    item.parts.push(ele);
                    $("#partNo").empty();
                    $("#partNo").append("<option value='0' selected>Select Part No</option>");
                    item.parts.forEach(part => {
                        $("#partNo").append("<option value='" + part.id + "'>" + part.partNo + "</option>");
                    });
                    if (ele) {
                        $("#partNo").val(ele.id);
                    }
                    return;
                }
            });
        }
        function initConfigResponseData(ele) {
            items.forEach(item => {
                if ($("#model").val() == item.id) {
                    item.parts.forEach(part => {
                        if ($("#partNo").val() == part.id) {
                            part.configurations.push(ele);
                            $("#config").empty();
                            $("#config").append("<option value='0' selected>Select Configuration</option>");
                            part.configurations.forEach(config => {
                                $("#config").append("<option value='" + config.id + "'>" + config.configuration + "</option>");
                            });
                            if (ele) {
                                $("#config").val(ele.id);
                            }
                            return;
                        }
                    });
                }
            });
        }
        function initVendorResponseData(vendor) {
            if (vendor) {
                vendors.push(vendor);
                $("#vendor").append("<option value='" + vendor.id + "' selected>" + vendor.vendorName + "</option>");
                $("#vendor").val(vendor.id);
            }
        }
        function initCustomerResponseData(customer) {
            if (customer) {
                customers.push(customer);
                $("#customer").append("<option value='" + customer.id + "' selected>" + customer.customerName + "</option>");
                $("#customer").val(customer.id);
            } else {
                $("#customer").empty();
                $("#customer").append("<option selected='selected' value='0'>Select Customer</option>");
                customers.forEach(customer => {
                    $("#customer").append("<option value='" + customer.id + "'>" + customer.customerName + "</option>");
                });
            }
            return;
        }

    </script>
</head>

<body style="overflow: hidden;">
    <div id="stockPageBody" style="visibility: hidden">
        <div class="row" style="width: 100%;">
            <div class="pt-0" style="width: 250px;">
                <div class="mb-1 ps-2">
                    <label class="p-1 pb-0" for="boxNo"><span style="text-decoration: underline;">B</span>ox</label>
                    <div class="input-group">
                        <select class="form-control" id="boxNo" accesskey="b"></select>
                        <button type="button" class="btn btn-secondary" tabindex="-1" data-bs-toggle="tooltip"
                            data-bs-placement="top" id="addBoxBtn" title="Add new Box">+</button>
                    </div>
                </div>
                <div class="ps-2">
                    <label for="vendor" class="p-1 pb-0">Vendor</label>
                    <div class="input-group">
                        <select class="form-control" id="vendor"></select>
                        <button type="button" class="btn btn-secondary" tabindex="-1" data-bs-toggle="tooltip"
                            data-bs-placement="top" id="addVendorBtn" title="Add new Vendor">+</button>
                    </div>
                </div>
                <div class="ps-2">
                    <label for="model" class="p-1 pb-0">Motherboard Model</label>
                    <div class="input-group">
                        <select class="form-control" id="model"></select>
                        <button type="button" class="btn btn-secondary" tabindex="-1" data-bs-toggle="tooltip"
                            data-bs-placement="top" id="addModelBtn" title="Add new Model">+</button>
                    </div>
                </div>
                <div class="ps-2">
                    <label for="partNo" class="p-1 pb-0">Part</label>
                    <div class="input-group">
                        <select class="form-control" id="partNo"></select>
                        <button type="button" class="btn btn-secondary" tabindex="-1" data-bs-toggle="tooltip"
                            data-bs-placement="top" id="addPartBtn" title="Add new Part">+</button>
                    </div>
                </div>
                <div class="ps-2">
                    <label for="config" class="p-1 pb-0">Configuration</label>
                    <div class="input-group">
                        <select class="form-control" id="config"></select>
                        <button type="button" class="btn btn-secondary" tabindex="-1" data-bs-toggle="tooltip"
                            data-bs-placement="top" id="addConfigBtn" title="Add new Configuration">+</button>
                    </div>
                </div>
                <div class="row" style="padding-left: 12px;">
                    <div class="col mb-1 ps-2">
                        <label for="details" class="p-1 pb-0">Details</label>
                        <div class="input-group">
                            <select class="form-control" id="details">
                                <option>GM</option>
                                <option>PM</option>
                            </select>
                        </div>
                    </div>
                    <div class="col ps-2 mb-1">
                        <label for="qty" class="p-1 pb-0">Quantity</label>
                        <input min="1" autocomplete="off" required type="number" class="form-control numberOnly"
                            aria-label="qty" id="qty">
                        <div class="invalid-tooltip">
                            Please enter quantity
                        </div>
                    </div>
                </div>
                <div class="row mb-1" style="padding-left: 12px;">
                    <div class="col ps-2">
                        <label for="qty" class="p-1 pb-0">Buy Price</label>
                        <input min="0" autocomplete="off" type="number" class="form-control numberOnly" aria-label="qty"
                            id="buyPrice">
                    </div>
                    <div class="col ps-2">
                        <label for="qty" class="p-1 pb-0">Sell Price</label>
                        <input min="0" autocomplete="off" type="number" class="form-control numberOnly" aria-label="qty"
                            id="sellPrice">
                    </div>
                </div>
                <div class="ps-2 mt-3">
                    <button type="button" style="width: 100%;" id="addStockBtn" class="btn btn-primary">Add</button>
                </div>
                <div class="ps-2 mt-2">
                    <button type="button" style="width: 100%;" id="clearFieldsBtn"
                        class="btn btn-secondary">Clear</button>
                </div>
            </div>
            <div class="col mt-4">
                <div class="position-relative">
                    <div class="ps-2 mt-2">
                        <button type="button" id="toggleBuyPrice" style="z-index: 5000;"
                            class="position-absolute top-0 end-0 px-2 btn btn-success">Buy Price</button>
                    </div>
                </div>
                <table id="dataTable" style="width: 100%;" class="display">
                    <thead>
                        <tr>
                            <th class="th-sm">Box No</th>
                            <th class="th-sm">Model</th>
                            <th class="th-sm">Part No</th>
                            <th class="th-sm">Configuration</th>
                            <th class="th-sm">Details</th>
                            <th class="th-sm">Quantity</th>
                            <th class="th-sm">Buy Price</th>
                            <th class="th-sm">Sell Price</th>
                            <th class="th-sm">Vendor</th>
                            <th class="th-sm">Id</th>
                            <th class="th-sm">BoxId</th>
                            <th class="th-sm">VendorId</th>
                            <th class="th-sm">modelId</th>
                            <th class="th-sm">PartId</th>
                            <th class="th-sm">DetailsId</th>
                            <th class="th-sm">ConfigId</th>
                            <th class="th-sm">StockDetailsId</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
        <div class="modal fade" id="addVendorModal" data-bs-backdrop="static" data-bs-keyboard="true" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Create Vendor</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group mb-3">
                            <span class="input-group-text">Vendor Name</span>
                            <input autocomplete="off" type="text" class="form-control" id="vendorName"
                                placeholder="Vendor Name" aria-label="vendorName" aria-describedby="vendorName">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" id="createVendorBtn" class="btn btn-primary">Save</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="stockAddBoxModal" data-bs-backdrop="static" data-bs-keyboard="true" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Create Box</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group mb-3">
                            <span class="input-group-text">Box Name</span>
                            <input autocomplete="off" type="text" class="form-control" id="boxName"
                                placeholder="Box Name" aria-label="boxName" aria-describedby="boxName">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" id="createBoxBtn" class="btn btn-primary">Save</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="stockAddModelModal" data-bs-backdrop="static" data-bs-keyboard="true" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Create Model</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group mb-3">
                            <span class="input-group-text">Model</span>
                            <input autocomplete="off" type="text" class="form-control" id="modelName"
                                placeholder="Model Name" aria-label="modelName" aria-describedby="modelName">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" id="createModelBtn" class="btn btn-primary">Create Model</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="stockAddPartModal" data-bs-backdrop="static" data-bs-keyboard="true" tabindex="-1"
            aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Create Part</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group mb-3">
                            <label for="model" class="p-1 pb-0">Motherboard Model</label>
                            <div class="input-group">
                                <input type="text" disabled="disabled" class="form-control" id="modelForPart">
                            </div>
                        </div>
                        <div class="input-group mb-3">
                            <span class="input-group-text">Part no</span>
                            <input type="text" class="form-control" id="partName" placeholder="Part Name"
                                autocomplete="off" aria-label="partName" aria-describedby="partName">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" id="createPartBtn" class="btn btn-primary">Save</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="stockAddConfigModal" data-bs-backdrop="static" data-bs-keyboard="true" tabindex="-1"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Create Configuration</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group mb-3">
                            <label for="model" class="p-1 pb-0">Part No</label>
                            <div class="input-group">
                                <input type="text" disabled="disabled" class="form-control" id="partForConfiguration">
                            </div>
                        </div>
                        <div class="input-group mb-3">
                            <span class="input-group-text">Configuration</span>
                            <input type="text" class="form-control" id="configName" placeholder="Configuration"
                                autocomplete="off" aria-label="configName" aria-describedby="configName">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" id="createConfigBtn" class="btn btn-primary">Save</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="stockEditModal" data-bs-backdrop="static" data-bs-keyboard="true" tabindex="-1"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Update Stock</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group mb-0" style="display: none;">
                            <span class="input-group-text">stockHeaderId</span>
                            <input type="text" disabled="disabled" class="form-control" id="stockHeaderId">
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text" style="width: 120px;text-align: right;display: block;">Box
                                No</span>
                            <input type="text" disabled="disabled" class="form-control" id="boxForEditStock">
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 120px;text-align: right;display: block;">Vendor</span>
                            <input type="text" disabled="disabled" class="form-control" id="vendorForEditStock">
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 120px;text-align: right;display: block;">Model</span>
                            <input type="text" disabled="disabled" class="form-control" id="modelForEditStock">
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 120px;text-align: right;display: block;">Part</span>
                            <input type="text" disabled="disabled" class="form-control" id="partForEditStock">
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 120px;text-align: right;display: block;">Configuration</span>
                            <input type="text" disabled="disabled" class="form-control" id="configForEditStock">
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 120px;text-align: right;display: block;">Details</span>
                            <input type="text" disabled="disabled" class="form-control" id="detailsForEditStock">
                        </div>
                        <div class="input-group mb-2">
                            <span class="input-group-text" style="width: 120px;text-align: right;display: block;">Buy
                                Price</span>
                            <input type="text" disabled="disabled" class="form-control numberOnly"
                                id="buyPriceForEditStock">
                        </div>
                        <div class="input-group mb-2">
                            <span class="input-group-text" style="width: 120px;text-align: right;display: block;">Sell
                                Price</span>
                            <span class="input-group-text"
                                style="width: 80px;text-align: right;display: block;">Current</span>
                            <input type="text" style="max-width: 60px;text-align: center;" disabled="disabled"
                                class="form-control" id="currentSellPrice">
                            <input type="text" class="form-control numberOnly" id="sellPriceForEditStock">
                        </div>
                        <div class="input-group mb-3">
                            <span class="input-group-text"
                                style="width: 120px;text-align: right;display: block;">Quantity</span>
                            <span class="input-group-text"
                                style="width: 80px;text-align: center;display: block;">Available</span>
                            <input type="text" style="max-width: 60px;text-align: center;" disabled="disabled"
                                class="form-control" id="currentStock">
                            <input type="number" style="max-width: 140px;"
                                class="form-control numberOnlyWithNegativeValues" id="qtyForEditStock"
                                placeholder="Quantity" value="0" autocomplete="off">
                            <span class="input-group-text"
                                style="width: 40px;text-align: right;display: block;">=</span>
                            <input type="text" style="text-align: center;" disabled="disabled" class="form-control"
                                id="tempTotalStock">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" id="updateStockBtn" class="btn btn-primary">Update</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="optionModal" data-bs-backdrop="static" data-bs-keyboard="true" tabindex="-1"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Select Option</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group mb-0" style="display: none;">
                            <span class="input-group-text">stockHeaderId</span>
                            <input type="text" disabled="disabled" class="form-control" id="stockHeaderId">
                        </div>
                        <div class="input-group mb-2">
                            <button type="button" class="btn btn-primary pe-2 me-2" id="createOrderModalBtn">Create
                                Order</button>
                            <button type="button" id="updateStockModalBtn" class="btn btn-success">Update Stock</button>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="createOrderModal" data-bs-backdrop="static" data-bs-keyboard="true" tabindex="0"
            aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Create Order</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group mb-0">
                            <span class="input-group-text" style="width: 140px;text-align: right;display: block;">Order
                                Date</span>
                            <input type="text" class="form-control" id="datepicker">
                        </div>
                        <div class="input-group mb-0" style="display: none;">
                            <span class="input-group-text">stockHeaderId</span>
                            <input type="text" disabled="disabled" class="form-control" id="stockHeaderId">
                        </div>
                        <div class="input-group mb-0" style="display: none;">
                            <span class="input-group-text">stockDetailId</span>
                            <input type="text" disabled="disabled" class="form-control" id="stockDetailsId">
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 140px;text-align: right;display: block;">Particulars</span>
                            <span type="text" disabled="disabled" class="form-control text-break"
                                id="itemDetailsForOrder"></span>
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 140px;text-align: right;display: block;">Customer</span>
                            <select class="form-control" id="customer"></select>
                            <button type="button" class="btn btn-secondary" tabindex="-1" data-bs-toggle="tooltip"
                                data-bs-placement="top" id="showCustomerModalBtn" title="Add new Customer">+</button>
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text" style="width: 140px;text-align: right;display: block;">Sell
                                Price</span>
                            <input type="text" style="max-width: 160px;" disabled="disabled" class="form-control"
                                id="itemSellRate">
                            <input type="number" style="max-width: 130px;display: block;" min="0" step=".01"
                                class="form-control" id="newItemSellRate">
                            <input type="text" value="" disabled="disabled" class="form-control">
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 140px;text-align: right;display: block;">Quantity</span>
                            <input type="number" style="max-width: 160px;" class="form-control" value="0"
                                id="itemQuantity">
                            <span class="input-group-text"
                                style="width: 130px;text-align: right;display: block;">Amount</span>
                            <input type="number" min="0" step=".01" disabled="disabled" class="form-control"
                                id="itemAmount">
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 140px;text-align: right;display: block;">Courier
                                Charges</span>
                            <input type="number" value="0" min="0" class="form-control" style="max-width: 160px;"
                                id="courierCharges">
                            <span class="input-group-text" style="width: 130px;text-align: right;display: block;">Order
                                Amount</span>
                            <input type="number" min="0" disabled="disabled" class="form-control" id="orderAmount">
                        </div>
                        <div class="input-group mb-0">

                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 140px;text-align: right;display: block;">Payment
                                Type</span>
                            <select class="form-control" id="paymentType" style="max-width: 160px;">
                                <option value="0">Select Payment Type</option>
                                <option value="cash">Cash</option>
                                <option value="bank">Bank</option>
                                <option value="pending">Pending</option>
                            </select>
                            <span class="input-group-text"
                                style="width: 130px;text-align: right;display: block;">Account Name</span>
                            <select class="form-control" id="orderRemark" disabled>
                                <option value="0">Select Account</option>
                                <option value="Arvind">Arvind</option>
                                <option value="Arvind Mother">Arvind Mother</option>
                                <option value="Arvind Wife">Arvind Wife</option>
                            </select>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" id="createOrderBtn" class="btn btn-primary">Create Order</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="createCustomerModal" data-bs-backdrop="static" data-bs-keyboard="true" tabindex="-1"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Create Customer</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 140px;text-align: right;display: block;">Customer Name</span>
                            <input autocomplete="off" type="text" class="form-control" id="customerName">
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 140px;text-align: right;display: block;">Location</span>
                            <input autocomplete="off" type="text" class="form-control" id="customerLocation">
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 140px;text-align: right;display: block;">Email</span>
                            <input autocomplete="off" type="email" class="form-control" id="email">
                        </div>
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="width: 140px;text-align: right;display: block;">Contact</span>
                            <input autocomplete="off" type="text" class="form-control" id="contact">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" id="createCustomerBtn" class="btn btn-primary">Create Customer</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="modal fade" id="validateUserModal" data-bs-backdrop="static" data-bs-keyboard="true" tabindex="-1"
            aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="staticBackdropLabel">Validate user</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="min-width: 120px;text-align: right;display: block;">User Name</span>
                            <input autocomplete="off" type="text" class="form-control" id="userNameForValidation"
                                placeholder="User Name" aria-label="userNameForValidation"
                                aria-describedby="userNameForValidation">
                        </div>
                    </div>
                    <div class="modal-body">
                        <div class="input-group mb-0">
                            <span class="input-group-text"
                                style="min-width: 120px;text-align: right;display: block;">Password</span>
                            <input autocomplete="off" type="password" class="form-control" id="password"
                                placeholder="Password" aria-label="password" aria-describedby="password">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                        <button type="button" id="validatePasswordBtn" class="btn btn-primary">Validate</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="position-absolute top-0 mt-5 text-center" id="onloadSpinner" style="width:100%;">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>
</body>

</html>